<html>
  <head>
    <script type="text/javascript" src="Builder.js"></script>
    <script type="text/javascript" src="More.js"></script>
    <script type="text/javascript" src="Simple.js"></script>
    <script type="text/javascript" src="../content/namespace.js"></script>
    <script type="text/javascript" src="../content/utils.js"></script>
  </head>
  <body>
    <pre id="test">
      <script type="text/javascript">
      	plan({ tests: 14 });
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("  ").words, [], "getIncludeExcluded words 0");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite").words, ["sqlite"], "getIncludeExcluded words 1");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite firefox").words, ["sqlite","firefox"], "getIncludeExcluded words 2");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("\"\"").words, [""], "getIncludeExcluded words 3");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("\" \"").words, [" "], "getIncludeExcluded words 4");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("-").words, ["-"], "getIncludeExcluded words 5");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("\"-notexclude \"").words, ["-notexclude "], "getIncludeExcluded words 6");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("- s").words, ["-", "s"], "getIncludeExcluded words 7");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("\"- s\"").words, ["- s"], "getIncludeExcluded words 8");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite").excluded, [], "getIncludeExcluded excluded 0");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite -firefox").excluded, ["firefox"], "getIncludeExcluded excluded 1");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite -\"google\"").excluded, ["google"], "getIncludeExcluded excluded 2");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite -g1 -g2").excluded, ["g1","g2"], "getIncludeExcluded excluded 3");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite -\"g1 g2\"").excluded, ["g1 g2"], "getIncludeExcluded excluded 4");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite -\"g1 g2\" -g3").excluded, ["g1 g2","g3"], "getIncludeExcluded excluded 5");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("-\"\"").excluded, [""], "getIncludeExcluded excluded 6");
        isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("-\" \"").excluded, [" "], "getIncludeExcluded excluded 7");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite firefox site:test.com").site, ["test.com"], "getIncludeExcluded site 0");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("site:onlysite").site, ["onlysite"], "getIncludeExcluded site 1");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("site:ab site:.com").site, ["ab",".com"], "getIncludeExcluded site 2");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite firefox time:02/02/2010-").time, [{since: new Date("02/02/2010").getTime(), till:Number.MAX_VALUE}], "getIncludeExcluded time 0");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite firefox time:02/02/2010-02/03/2011").time, [{since: new Date("02/02/2010").getTime(), till: new Date("02/03/2011").getTime()}], "getIncludeExcluded time 1");
	isDeeply(com.wuxuan.fromwheretowhere.utils.getIncludeExcluded("sqlite firefox time:-02/02/2010").time, [{since: -1, till:new Date("02/02/2010").getTime()}], "getIncludeExcluded time 2");
        //isDeeply([1,2].concat([3,4]), [1,2,3,4], "concat");
      </script>
    </pre>
  </body>
</html>
